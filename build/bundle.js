module.exports=function(e){function n(o){if(t[o])return t[o].exports;var a=t[o]={exports:{},id:o,loaded:!1};return e[o].call(a.exports,a,a.exports,n),a.loaded=!0,a.exports}var t={};return n.m=e,n.c=t,n.p="/build/",n(0)}([function(e,n,t){"use strict";var o=t(1);e.exports=o.fromExpress(t(2));var a=t(9),s=t(2);e.exports=a.createServer(function(e,n){return s(e,n)})},function(e,n){e.exports=require("webtask-tools")},function(e,n,t){"use strict";var o=(t(3),t(4)),a=t(5),s=t(6),l=t(7),i=t(8),r=(t(1),t(9)),c=(t(9).middlewares,t(10),t(11),t(12),t(11).config()),d=t(13),u=t(15);t(16).ManagementClient;e.exports=function(e,n){var p=t(17),v=i.compile(t(19)),h=i.compile(t(20));c.setProvider(e);var g=s();g.use(l.json()),g.use(l.urlencoded({extended:!1})),g.use(t(21)),g.use(d(c("AUTH0_DOMAIN"),"Authentication API Debugger Extension",c("AUTH0_RTA"))),g.get("/pkce",function(e,n){var t=p.base64url(a.randomBytes(32));return n.json({verifier:t,verifier_challenge:p.base64url(a.createHash("sha256").update(t).digest())})}),g.get("/hash",function(e,n){n.send(h({hash:p.syntaxHighlight(e.query),id_token:p.jwt(e.query&&e.query.id_token),access_token:p.jwt(e.query&&e.query.access_token)}))}),g.post("/request",function(e,n){var t=e.body.request;delete e.body.request,n.send(h({request:p.syntaxHighlight(t),response:p.syntaxHighlight(e.body),id_token:p.jwt(e.body&&e.body.id_token),access_token:p.jwt(e.body&&e.body.access_token)}))}),g.get("/meta",o(),function(e,n){n.status(200).send(u)});var f=function(e,n){var t=e.headers;delete t["x-wt-params"],n.send(v({method:e.method,domain:e.webtaskContext.data.AUTH0_DOMAIN,baseUrl:r.urlHelpers.getBaseUrl(e).replace("http://","https://"),headers:p.syntaxHighlight(e.headers),body:p.syntaxHighlight(e.body),query:p.syntaxHighlight(e.query),authorization_code:e.query&&e.query.code,samlResponse:p.samlResponse(e.body&&e.body.SAMLResponse),wsFedResult:p.wsFedResult(e.body&&e.body.wresult),id_token:p.jwt(e.body&&e.body.id_token),access_token:p.jwt(e.body&&e.body.access_token)}))};return g.get("*",f),g.post("*",f),g}},function(e,n){e.exports=require("path")},function(e,n){e.exports=require("cors")},function(e,n){e.exports=require("crypto")},function(e,n){e.exports=require("express")},function(e,n){e.exports=require("body-parser")},function(e,n){e.exports=require("handlebars")},function(e,n){e.exports=require("auth0-extension-express-tools")},function(e,n){e.exports=require("auth0-oauth2-express@1.2.0")},function(e,n){e.exports=require("auth0-extension-tools")},function(e,n){e.exports=require("lodash")},function(e,n,t){"use strict";var o=t(14),a=t(10);e.exports=function(e,n,t){if(!e)throw new Error("Domain is required");if(!n)throw new Error("title is required");var s={credentialsRequired:!1,scopes:"read:clients read:client_keys",clientName:n,audience:function(){return"https://"+e+"/api/v2/"},rootTenantAuthority:t},l=a(s);return function(e,n,t){var a="https",i=o.parse(e.originalUrl).pathname.replace(e.path,""),r=o.format({protocol:a,host:e.get("host"),pathname:i});return s.clientId=r,l(e,n,t)}}},function(e,n){e.exports=require("url")},function(e,n){e.exports={title:"Auth0 Authentication API Debugger",name:"auth0-authentication-api-debugger",version:"1.1.2",author:"auth0",useHashName:!1,description:"This extension allows you to test and debug the various Authentication API endpoints",type:"application",docsUrl:"https://auth0.com/docs/extensions/authentication-api-debugger",logoUrl:"https://cdn.auth0.com/extensions/auth0-authentication-api-debugger/assets/logo.svg",repository:"https://github.com/auth0-extensions/auth0-authentication-api-debugger-extension",keywords:["auth0","extension"],auth0:{scopes:"read:clients read:client_keys"}}},function(e,n){e.exports=require("auth0")},function(e,n,t){"use strict";var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=t(12),s=t(18),l=function(e){var n="",t=/(>)(<)(\/*)/g;e=e.toString().replace(t,"$1\r\n$2$3");var o=0,a=e.split("\r\n");for(var s in a){var l=a[s],i=0;l.match(/.+<\/\w[^>]*>$/)?i=0:l.match(/^<\/\w/)?0!==o&&(o-=1):i=l.match(/^<\w[^>]*[^\/]>.*$/)?1:0;for(var r="",c=0;c<o;c++)r+="  ";n+=r+l+"\r\n",o+=i}return n.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/ /g,"&nbsp;")},i=function(e){return"string"!=typeof e&&(e=JSON.stringify(e,void 0,2)),e=e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),e.replace(/("(\\u[a-zA-Z0-9]{4}|\\[^u]|[^\\"])*"(\s*:)?|\b(true|false|null)\b|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?)/g,function(e){var n="json-value";return/^"/.test(e)?n=/:$/.test(e)?"json-key":"json-string":/true|false/.test(e)&&(n="json-value"),'<span class="'+n+'">'+e+"</span>"})};e.exports.wsFedResult=function(e){if(!e||!e.length)return null;try{return l(e)}catch(n){return e}},e.exports.samlResponse=function(e){if(!e||!e.length)return null;try{var n=new Buffer(e,"base64").toString();return l(n)}catch(n){return e}},e.exports.jwt=function(e){if(!e||0!==e.indexOf("ey"))return null;try{var n=s.decode(e,{complete:!0});return i(n)}catch(n){return e}},e.exports.base64url=function(e){return e.toString("base64").replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")},e.exports.syntaxHighlight=function(e){try{var n=function(){var n=a.keys(e);if(!n.length)return{v:null};var t={};return n.sort().forEach(function(n){t[n]=e[n]}),{v:i(t)}}();if("object"===("undefined"==typeof n?"undefined":o(n)))return n.v}catch(n){return JSON.stringify(e,null,2)}}},function(e,n){e.exports=require("jsonwebtoken")},function(e,n){"use strict";e.exports='<html lang="en">\n<head>\n  <title>Auth0 - Protocol Debugger</title>\n  <meta charset="UTF-8">\n  <meta http-equiv="X-UA-Compatible" content="IE=Edge">\n  <meta name="viewport" content="width=device-width, initial-scale=1.0">\n  <link rel="shortcut icon" href="https://cdn.auth0.com/styleguide/4.6.13/lib/logos/img/favicon.png">\n  <meta name="viewport" content="width=device-width, initial-scale=1">\n  <link rel="stylesheet" type="text/css" href="https://cdn.auth0.com/styles/zocial.min.css">\n  <link rel="stylesheet" type="text/css" href="https://cdn.auth0.com/manage/v0.3.1715/css/index.min.css">\n  <link rel="stylesheet" type="text/css" href="https://cdn.auth0.com/styleguide/4.6.13/index.css">\n  <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.7.0/styles/github.min.css">\n  <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.7.0/highlight.min.js"></script>\n  <style type="text/css">\n    p.controls-info {\n      font-size: 13px;\n      color: #000;\n      opacity: .56;\n      line-height: 18px;\n      margin: 8px 0 0 0;\n      clear: both;\n    }\n    code.xml {\n      color: black !important;\n      background-color: #fbfbfb !important;\n      margin-top: -25px !important;\n      margin-bottom: -51px !important;\n    }\n    pre.json-object {\n      background-color: #fbfbfb;\n      border: 1px solid #f1f1f1;\n      border-radius: 0px;\n      padding: 10px 10px;\n      font-size: 12px;\n    }\n    .json-object .json-key {\n      color: #16214D;\n    }\n    .json-object .json-value {\n      color: #01B48F;\n    }\n    .json-object .json-string {\n      color: #EB5424;\n    }\n  </style>\n  <script type="text/javascript">\n    if (!sessionStorage.getItem("token")) {\n      window.location.href = \'{{baseUrl}}/login\';\n    }\n  </script>\n</head>\n<body>\n<div id="app">\n  <div>\n    <header class="dashboard-header">\n      <nav role="navigation" class="navbar navbar-default">\n        <div class="container">\n          <div class="navbar-header">\n            <h1 class="navbar-brand" style="padding-top: 0px;"><a href="https://manage.auth0.com"><span>Auth0</span></a></h1>\n          </div>\n          <div id="navbar-collapse" class="collapse navbar-collapse">\n            <ul class="nav navbar-nav navbar-right">\n              <li><a target="_blank" href="https://auth0.com/support">Help &amp; Support</a></li>\n              <li><a target="_blank" href="https://auth0.com/docs/extensions/authentication-api-debugger">Documentation</a></li>\n            </ul>\n          </div>\n        </div>\n      </nav>\n    </header>\n    <div class="container">\n      <div class="row">\n        <div class="col-xs-12">\n          <div class="row">\n            <div class="col-xs-12">\n              <h1 class="pull-left" style="padding-top: 10px;">Authentication API Debugger</h1>\n            </div>\n          </div>\n          <div class="row">\n            <div class="col-xs-12">\n            \t<div class="widget-title title-with-nav-bars">\n            \t\t<ul id="tabs" class="nav nav-tabs">\n            \t\t\t<li class="active"><a data-toggle="tab" href="#login"><span class="tab-title">Login</span></a></li>\n              \t\t<li><a data-toggle="tab" href="#request"><span class="tab-title">Request</span></a></li>\n            \t\t</ul>\n            \t</div>\n            \t<div id="content-area" class="tab-content">\n                <div id="login" class="tab-pane active">\n                  <div class="row">\n                    <div class="col-xs-12">\n                      <div class="alert alert-warning">Please note that this extension retrieves the Client ID and Client Secrets for your Clients using the Management API. This information is subsequently used to call Authentication API endpoints where applicable.</div>\n                    </div>\n                    <div class="col-xs-12">\n                      <button id="reset_settings" class="btn btn-success">Clear Settings</button>\n                      <p class="controls-info">Hit this button if you want to remove everything from local storage.</p>\n                    </div>\n                    <div class="col-xs-12" style="margin-top: 25px">\n                      <div>\n                        <div class="widget-title title-with-nav-bars">\n                      \t\t<ul id="login-tabs" class="nav nav-tabs">\n                      \t\t\t<li class="active"><a data-toggle="tab" href="#configuration"><span class="tab-title">Configuration</span></a></li>\n                        \t\t<li><a data-toggle="tab" href="#oauth2"><span class="tab-title">OAuth2 / OIDC</span></a></li>\n                        \t\t<li><a data-toggle="tab" href="#other-flows"><span class="tab-title">Other Flows</span></a></li>\n                      \t\t</ul>\n                      \t</div>\n                      \t<div id="login-content-area" class="tab-content">\n                          <div id="configuration" class="tab-pane active">\n                            <p>Enter your account settings and additional application settings here (these will be persisted in localstorage).</p>\n                            <form class="form-horizontal col-xs-12">\n                              <div class="form-group"><label class="col-xs-2 control-label">Domain</label>\n                                <div class="col-xs-10">\n                                  <input id="domain" readonly type="text" class="form-control" value="{{domain}}">\n                                </div>\n                              </div>\n                              <div class="form-group"><label class="col-xs-2 control-label">Client</label>\n                                <div class="col-xs-10">\n                                  <select id="client" class="form-control">\n                                  </select>\n                                  <input id="client_id" type="hidden" class="form-control">\n                                  <input id="client_secret" type="hidden" class="form-control">\n                                </div>\n                              </div>\n                              <div class="form-group"><label class="col-xs-2 control-label">Callback URL</label>\n                                <div class="col-xs-10">\n                                  <input id="callback_url" readonly type="text" class="form-control" value="">\n                                  <p class="controls-info">Make sure you configure this as the Callback Url on your client.</p>\n                                </div>\n                              </div>\n                              <div class="form-group">\n                                <label class="col-xs-2 control-label">SSO</label>\n                                <div class="col-xs-3">\n                                  <div class="ui-switch">\n                                    <input id="use_sso" type="checkbox"/>\n                                    <label class="status"></label>\n                                  </div>\n                                </div>\n                              </div>\n                              <div class="form-group"><label class="col-xs-2 control-label">State</label>\n                                <div class="col-xs-10">\n                                  <input id="state" type="text" class="form-control" value="">\n                                  <p class="controls-info">This might translate to RelayState or wctx depending on the protocol.</p>\n                                </div>\n                              </div>\n                              <div class="form-group"><label class="col-xs-2 control-label">Connection</label>\n                                <div class="col-xs-10">\n                                  <input id="connection" type="text" class="form-control" value="">\n                                  <p class="controls-info">Specify the name of a connection to skip the login page (eg: <strong>google-oauth2</strong>).</p>\n                                </div>\n                              </div>\n                            </form>\n                          </div>\n                          <div id="oauth2" class="tab-pane">\n                            <div class="alert alert-info">Specification: <a href="https://tools.ietf.org/html/rfc6749#section-1.3.3">OAuth2</a></div>\n                            <h5>User Flows</h5>\n                            <button id="oidc_oauth2" class="btn btn-primary">OAuth2 / OIDC Login</button>\n                            <button id="oauth2_code_exchange" class="btn btn-primary">OAuth2 Code Exchange</button>\n                            <button id="oauth2_refresh_token_exchange" class="btn btn-primary">OAuth2 Refresh Token Exchange</button>\n                            <p class="controls-info">The exchanges will use the Client ID (and optionally Secret) from the Configuration tab.</p>\n                            <h5>Machine to Machine</h5>\n                            <button id="oauth2_client_credentials" class="btn btn-primary">OAuth2 Client Credentials</button>\n                            <p class="controls-info">This will use the Client ID and Secret from the Configuration tab.</p>\n                            <h5>Resource Owner Password Credentials</h5>\n                            <form class="form-horizontal col-xs-12">\n                              <div class="form-group"><label class="col-xs-2 control-label">Username</label>\n                                <div class="col-xs-10">\n                                  <input id="username" type="text" class="form-control" value="">\n                                </div>\n                              </div>\n                              <div class="form-group">\n                                <label class="col-xs-2 control-label">Password</label>\n                                <div class="col-xs-6">\n                                  <input id="password" type="password" class="form-control" value="">\n                                  <p class="controls-info">Optional: Only store passwords for test accounts here.</p>\n                                </div>\n                                <div class="col-xs-4">\n                                  <div class="ui-switch ui-switch-labeled ui-switch-xl">\n                                    <input id="save_password" type="checkbox" />\n                                    <label data-label-true="Save in Local Storage" data-label-false="Don\'t Save in Local Storage" class="status"></label>\n                                  </div>\n                                </div>\n                              </div>\n                              <div class="form-group">\n                                <label class="col-xs-2 control-label">Device</label>\n                                <div class="col-xs-10">\n                                  <input id="device" type="text" class="form-control" value="">\n                                  <p class="controls-info">This field is here for legacy purposes. It\'s not part of the spec.</p>\n                                </div>\n                              </div>\n                            </form>\n                            <button id="oauth2_password_grant" class="btn btn-primary">Password Grant</button>\n                            <button id="oauth2_ro" class="btn btn-primary">Resource Owner Endpoint</button>\n                            <p class="controls-info">The Resource Owner Endpoint is here for legacy purposes. It\'s not part of the spec.</p>\n                            <h5>Delegation</h5>\n                            <p class="controls-info">Not part of the spec - this is here for legacy purposes only.</p>\n                            <form class="form-horizontal col-xs-12">\n                              <div class="form-group"><label class="col-xs-2 control-label">ID Token</label>\n                                <div class="col-xs-10">\n                                  <input id="delegation_id_token" type="text" class="form-control" value="">\n                                </div>\n                              </div>\n                              <div class="form-group"><label class="col-xs-2 control-label">Refresh Token</label>\n                                <div class="col-xs-10">\n                                  <input id="delegation_refresh_token" type="text" class="form-control" value="">\n                                </div>\n                              </div>\n                              <div class="form-group"><label class="col-xs-2 control-label">Target Client ID</label>\n                                <div class="col-xs-10">\n                                  <input id="delegation_target" type="text" class="form-control" value="">\n                                </div>\n                              </div>\n                            </form>\n                            <button id="oauth2_delegation" class="btn btn-primary">Delegation</button>\n                            <h5>Settings</h5>\n                            <p>The following settings might behave differently if you\'re using OAuth2 as a Service (Preview)</p>\n                            <form class="form-horizontal col-xs-12">\n                              <div class="form-group">\n                                <label class="col-xs-2 control-label">PKCE</label>\n                                <div class="col-xs-10">\n                                  <div class="ui-switch">\n                                    <input id="use_pkce" type="checkbox"/>\n                                    <label class="status"></label>\n                                  </div>\n                                  <p class="controls-info">The PKCE (Proof Key for Code Exchange by OAuth Public Clients) or Hybrid Flow is a better alternative to the implicit flow for Mobile Apps. In Auth0, make sure you set the client type to "Native".</p>\n                                </div>\n                              </div>\n                              <div class="form-group">\n                                <label class="col-xs-2 control-label">Audience</label>\n                                <div class="col-xs-7">\n                                  <input id="audience" type="text" class="form-control" value="">\n                                  <p class="controls-info">Only required when you need an access token.</p>\n                                </div>\n                                <div class="col-xs-3">\n                                  <div class="ui-switch ui-switch-labeled ui-switch-md">\n                                    <input id="use_audience" type="checkbox" />\n                                    <label data-label-true="Save in Local Storage" data-label-false="Use Audience" class="status"></label>\n                                  </div>\n                                </div>\n                              </div>\n                              <div class="form-group">\n                                <label class="col-xs-2 control-label">Authorization Code</label>\n                                <div class="col-xs-10">\n                                  <input id="authorization_code" type="text" class="form-control" value="{{authorization_code}}">\n                                  <p class="controls-info">Set the response type to <strong>code</strong> and then press the <strong>OIDC / OAuth2</strong> button to get an authorization code.</p>\n                                </div>\n                              </div>\n                              <div class="form-group">\n                                <label class="col-xs-2 control-label">Code Verifier</label>\n                                <div class="col-xs-10">\n                                  <input id="code_verifier" type="text" class="form-control" value="{{code_verifier}}">\n                                  <p class="controls-info">If you\'re using <strong>PKCE</strong>, this is what will be used instead of the Client Secret.</p>\n                                </div>\n                              </div>\n                              <div class="form-group">\n                                <label class="col-xs-2 control-label">Refresh Token</label>\n                                <div class="col-xs-10">\n                                  <input id="refresh_token" type="text" class="form-control" value="{{refresh_token}}">\n                                  <p class="controls-info">Set the response type to <strong>code</strong>, request the <strong>offline_access</strong> scope and then press the <strong>OIDC / OAuth2</strong> button to get an authorization code.</p>\n                                </div>\n                              </div>\n                              <div class="form-group">\n                                <label class="col-xs-2 control-label">Response Type</label>\n                                <div class="col-xs-10">\n                                  <input id="response_type" type="text" class="form-control" value="">\n                                  <p class="controls-info">You can try a mix of <strong>code</strong>, <strong>id_token</strong>, <strong>token</strong></p>\n                                </div>\n                              </div>\n                              <div class="form-group">\n                                <label class="col-xs-2 control-label">Response Mode</label>\n                                <div class="col-xs-10">\n                                  <input id="response_mode" type="text" class="form-control" value="">\n                                  <p class="controls-info">You can try something like <strong>fragment</strong>, <strong>query</strong> or <strong>form_post</strong></p>\n                                </div>\n                              </div>\n                              <div class="form-group"><label class="col-xs-2 control-label">Scope</label>\n                                <div class="col-xs-10">\n                                  <input id="scope" type="text" class="form-control" value="openid name email">\n                                  <p class="controls-info">You can try something like <strong>openid name email read:appointments</strong></p>\n                                </div>\n                              </div>\n                              <div class="form-group"><label class="col-xs-2 control-label">Prompt</label>\n                                <div class="col-xs-10">\n                                  <input id="prompt" type="text" class="form-control" value="openid name email">\n                                  <p class="controls-info">You can try something like <strong>consent</strong> or <strong>login</strong></p>\n                                </div>\n                              </div>\n                              <div class="form-group"><label class="col-xs-2 control-label">Nonce</label>\n                                <div class="col-xs-10">\n                                  <input id="nonce" type="text" class="form-control" value="">\n                                  <p class="controls-info">Like the OAuth2 state parameter. Required for OIDC Implicit Flow.</p>\n                                </div>\n                              </div>\n                            </form>\n                          </div>\n                          <div id="other-flows" class="tab-pane">\n                            <button id="saml" class="btn btn-primary">SAML</button>\n                            <button id="wsfed" class="btn btn-primary">WS-Federation</button>\n                            <h5>Logout</h5>\n                            <button id="logout" class="btn btn-primary">Logout</button>\n                            <button id="logout-federated" class="btn btn-primary">Logout (Federated)</button>\n                            <h5>SSO</h5>\n                            <button id="sso-data" class="btn btn-primary">Get SSO Data</button>\n                            <div id="sso-data-output"></div>\n                          </div>\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n            \t\t<div id="request" class="tab-pane">\n                  <div class="row">\n                    <div class="col-xs-12">\n                      <div>\n                        <h5>Details</h5>\n                        <form class="form-horizontal col-xs-12">\n                          <div class="form-group"><label class="col-xs-1 control-label">Method</label>\n                            <div class="col-xs-11"><input type="text" readonly="" class="form-control" value="{{method}}"></div>\n                          </div>\n                          <div class="form-group"><label class="col-xs-1 control-label">Url</label>\n                            <div class="col-xs-11"><input type="text" readonly="" class="form-control" value="{{baseUrl}}"></div>\n                          </div>\n                        </form>\n                      </div>\n                    </div>\n                  </div>\n                  {{#if body}}\n                  <div class="row">\n                    <div class="col-xs-12">\n                      <div>\n                        <h5>Body</h5>\n                      </div>\n                    </div>\n                    <div class="col-lg-12">\n                      <pre class="json-object">{{{body}}}</pre>\n                    </div>\n                  </div>\n                  {{/if}}\n                  {{#if id_token}}\n                  <div class="row">\n                    <div class="col-xs-12">\n                      <div>\n                        <h5>ID Token</h5>\n                      </div>\n                    </div>\n                    <div class="col-lg-12">\n                      <pre class="json-object">{{{id_token}}}</pre>\n                    </div>\n                  </div>\n                  {{/if}}\n                  {{#if access_token}}\n                  <div class="row">\n                    <div class="col-xs-12">\n                      <div>\n                        <h5>Access Token</h5>\n                      </div>\n                    </div>\n                    <div class="col-lg-12">\n                      <pre class="json-object">{{{access_token}}}</pre>\n                    </div>\n                  </div>\n                  {{/if}}\n                  <div id="hash_fragment"></div>\n                  {{#if samlResponse}}\n                  <div class="row">\n                    <div class="col-xs-12">\n                      <div>\n                        <h5>SAML Response</h5>\n                      </div>\n                    </div>\n                    <div class="col-lg-12">\n                      <pre>\n                        <code class="xml">{{{samlResponse}}}</code>\n                      </pre>\n                    </div>\n                  </div>\n                  {{/if}}\n                  {{#if wsFedResult}}\n                  <div class="row">\n                    <div class="col-xs-12">\n                      <div>\n                        <h5>WS-Federation Result</h5>\n                      </div>\n                    </div>\n                    <div class="col-lg-12">\n                      <pre>\n                        <code class="xml">{{{wsFedResult}}}</code>\n                      </pre>\n                    </div>\n                  </div>\n                  {{/if}}\n                  {{#if query}}\n                  <div class="row">\n                    <div class="col-xs-12">\n                      <div>\n                        <h5>Query</h5>\n                      </div>\n                    </div>\n                    <div class="col-lg-12">\n                      <pre class="json-object">{{{query}}}</pre>\n                    </div>\n                  </div>\n                  {{/if}}\n                  <div class="row">\n                    <div class="col-xs-12">\n                      <div>\n                        <h5>Headers</h5>\n                      </div>\n                    </div>\n                    <div class="col-lg-12">\n                      <pre class="json-object">{{{headers}}}</pre>\n                    </div>\n                  </div>\n            \t\t</div>\n            \t\t<div id="login" class="tab-pane">\n            \t\t</div>\n            \t</div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n  <div id="modal-dialog" tabindex="-1" role="dialog" aria-hidden="true" class="modal">\n    <div class="modal-dialog">\n      <div class="modal-content">\n        <div class="modal-header has-border">\n          <button type="button" data-dismiss="modal" class="close"><span aria-hidden="true">×</span><span class="sr-only">Close</span></button>\n          <h4 id="modal-title" class="modal-title"></h4>\n        </div>\n        <div id="modal-body" class="modal-body"></div>\n        <div class="modal-footer">\n          <button data-dismiss="modal" id="close-modal" type="button" class="btn btn-primary">Close</button>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n<script src="//cdnjs.cloudflare.com/ajax/libs/jquery/1.11.3/jquery.js"></script>\n<script src="//cdn.jsdelivr.net/lodash/4.17.0/lodash.min.js"></script>\n<script src="//cdn.auth0.com/w2/auth0-6.js"></script>\n<script type="text/javascript" src="//cdn.auth0.com/manage/v0.3.1715/js/bundle.js"></script>\n<script>hljs.initHighlightingOnLoad();</script>\n<script type="text/javascript">\nvar clients = [];\n\nfunction read() {\n  $(\'#audience\').val(localStorage.getItem(\'auth_debugger_audience\'));\n  $(\'#callback_url\').val(window.location.protocol + "//" + window.location.hostname + (window.location.port ? \':\' + window.location.port : \'\') + window.location.pathname);\n  $(\'#client\').val(localStorage.getItem(\'auth_debugger_client\'));\n  //$(\'#client_id\').val(localStorage.getItem(\'auth_debugger_client_id\') || \'IsTxQ7jAYAXL5r5HM4L1RMzsSG0UHeOy\');\n  //$(\'#client_secret\').val(localStorage.getItem(\'auth_debugger_client_secret\'));\n  $(\'#code_verifier\').val(localStorage.getItem(\'auth_debugger_code_verifier\'));\n  $(\'#connection\').val(localStorage.getItem(\'auth_debugger_connection\'));\n  $(\'#device\').val(localStorage.getItem(\'auth_debugger_device\'));\n  //$(\'#domain\').val(localStorage.getItem(\'auth_debugger_domain\') || \'sandrino.auth0.com\');\n  $(\'#password\').val(localStorage.getItem(\'auth_debugger_password\'));\n  $(\'#delegation_target\').val(localStorage.getItem(\'auth_debugger_delegation_target\'));\n  $(\'#prompt\').val(localStorage.getItem(\'auth_debugger_prompt\') || \'\');\n  $(\'#nonce\').val(localStorage.getItem(\'auth_debugger_nonce\') || \'\');\n  $(\'#refresh_token\').val(localStorage.getItem(\'auth_debugger_refresh_token\'));\n  $(\'#response_mode\').val(localStorage.getItem(\'auth_debugger_response_mode\') || \'\');\n  $(\'#response_type\').val(localStorage.getItem(\'auth_debugger_response_type\') || \'token\');\n  //$(\'#save_client_secret\').prop(\'checked\', localStorage.getItem(\'auth_debugger_client_secret\') && localStorage.getItem(\'auth_debugger_client_secret\').length);\n  $(\'#save_password\').prop(\'checked\', localStorage.getItem(\'auth_debugger_password\') && localStorage.getItem(\'auth_debugger_password\').length);\n  $(\'#scope\').val(localStorage.getItem(\'auth_debugger_scope\') || \'openid name email nickname\');\n  $(\'#state\').val(localStorage.getItem(\'auth_debugger_state\') || \'my-custom-state\');\n  $(\'#username\').val(localStorage.getItem(\'auth_debugger_username\'));\n  if (localStorage.getItem(\'auth_debugger_use_audience\') === "1") {\n    $(\'#use_audience\').prop(\'checked\', \'checked\');\n  }\n  if (localStorage.getItem(\'auth_debugger_use_pkce\') === "1") {\n    $(\'#use_pkce\').prop(\'checked\', \'checked\');\n  }\n  if (localStorage.getItem(\'auth_debugger_use_sso\') === "1") {\n    $(\'#use_sso\').prop(\'checked\', \'checked\');\n  }\n}\nfunction save() {\n  localStorage.setItem(\'auth_debugger_audience\', $(\'#audience\').val());\n  localStorage.setItem(\'auth_debugger_client\', $(\'#client\').val());\n  //localStorage.setItem(\'auth_debugger_client_id\', $(\'#client_id\').val());\n  //localStorage.setItem(\'auth_debugger_client_secret\', $(\'#save_client_secret\').is(\':checked\') ? $(\'#client_secret\').val() : \'\');\n  localStorage.setItem(\'auth_debugger_code_verifier\', $(\'#code_verifier\').val());\n  localStorage.setItem(\'auth_debugger_connection\', $(\'#connection\').val());\n  //localStorage.setItem(\'auth_debugger_domain\', $(\'#domain\').val());\n  localStorage.setItem(\'auth_debugger_delegation_target\', $(\'#delegation_target\').val());\n  localStorage.setItem(\'auth_debugger_device\', $(\'#device\').val());\n  localStorage.setItem(\'auth_debugger_password\', $(\'#save_password\').is(\':checked\') ? $(\'#save_password\').val() : \'\');\n  localStorage.setItem(\'auth_debugger_prompt\', $(\'#prompt\').val());\n  localStorage.setItem(\'auth_debugger_nonce\', $(\'#nonce\').val());\n  localStorage.setItem(\'auth_debugger_refresh_token\', $(\'#refresh_token\').val());\n  localStorage.setItem(\'auth_debugger_response_mode\', $(\'#response_mode\').val());\n  localStorage.setItem(\'auth_debugger_response_type\', $(\'#response_type\').val());\n  localStorage.setItem(\'auth_debugger_scope\', $(\'#scope\').val());\n  localStorage.setItem(\'auth_debugger_state\', $(\'#state\').val());\n  localStorage.setItem(\'auth_debugger_use_audience\', $(\'#use_audience\').is(\':checked\') ? "1" : "0");\n  localStorage.setItem(\'auth_debugger_use_pkce\', $(\'#use_pkce\').is(\':checked\') ? "1" : "0");\n  localStorage.setItem(\'auth_debugger_use_sso\', $(\'#use_sso\').is(\':checked\') ? "1" : "0");\n  localStorage.setItem(\'auth_debugger_username\', $(\'#username\').val());\n}\nfunction bindClients() {\n  _.each(clients, function(client) {\n    $(\'#client\').append($(\'<option>\', {\n        value: client.client_id,\n        text : client.name\n    }));\n  })\n}\nfunction setSelectedClientSecrets() {\n  selectedClient = _.find(clients, { \'client_id\': $(\'#client\').val()});\n\n    if (selectedClient) {\n      $(\'#client_id\').val(selectedClient.client_id);\n      $(\'#client_secret\').val(selectedClient.client_secret);\n    } else {\n      $(\'#client_id\').val(\'\');\n      $(\'#client_secret\').val(\'\');\n    }\n}\nfunction executeRequest(title, url, opt) {\n  save();\n  $(\'#modal-title\').html(title);\n  $(\'#modal-body\').html(\'Loading...\');\n  $(\'#modal-dialog\').modal({ show: true });\n  $.post(url, opt)\n    .done(function(data) {\n      data.request = opt;\n      if (data.refresh_token) {\n        localStorage.setItem(\'auth_debugger_refresh_token\', data.refresh_token);\n      }\n      if (data.request.password) {\n        data.request.password = \'*****************\';\n      }\n      if (data.request.client_secret) {\n        data.request.client_secret = \'*****************\';\n      }\n      $.ajax({ type: "POST", url: \'{{baseUrl}}/request\', data: JSON.stringify(data), contentType: \'application/json\' })\n        .done(function(data) {\n          $(\'#modal-body\').html(data);\n          $(\'#modal-body\').prepend($(\'<pre/>\', { \'class\':\'json-object\', \'html\': \'POST \' + url }));\n        })\n        .fail(function(err) {\n          $(\'#modal-body\').html(\'<p>Error decoding the response.</p>\');\n          $(\'<pre/>\', { \'class\':\'json-object\', \'html\': err.responseText || err.name || err.text || err.body || err.status }).appendTo(\'#modal-body\');\n        });\n    })\n    .fail(function(err) {\n      if (opt.password) {\n        opt.password = \'*****************\';\n      }\n      if (opt.client_secret) {\n        opt.client_secret = \'*****************\';\n      }\n      $.ajax({ type: "POST", url: \'{{baseUrl}}/request\', data: JSON.stringify({ request: opt, err: err }), contentType: \'application/json\' })\n        .done(function(data) {\n          $(\'#modal-body\').html(data);\n          $(\'#modal-body\').prepend($(\'<pre/>\', { \'class\':\'json-object\', \'html\': \'POST \' + url }));\n        })\n        .fail(function(err) {\n          $(\'#modal-body\').html(\'<p>Error decoding the response.</p>\');\n          $(\'<pre/>\', { \'class\':\'json-object\', \'html\': err.responseText || err.name || err.text || err.body || err.status }).appendTo(\'#modal-body\');\n        });\n    });\n}\nif (!window.location.origin) {\n  window.location.origin = window.location.protocol + "//" + window.location.hostname + (window.location.port ? \':\' + window.location.port : \'\');\n}\nvar callbackUrl = window.location.origin + window.location.pathname;\n$(function () {\n  $.ajax({\n    url: \'https://{{domain}}/api/v2/clients\',\n    type: \'GET\',\n    headers: {\n      \'Authorization\': \'Bearer \' + sessionStorage.getItem("token")\n    }}).done(\n      function(data) {\n        clients = _.map(data, function(client) { return _.pick(client, [\'client_id\', \'client_secret\', \'name\'] )} );\n\n        bindClients();\n        read();\n        setSelectedClientSecrets();\n    });\n\n  if ("{{method}}" === \'POST\' || (window.location.hash && window.location.hash.length > 1) || (window.location.search && window.location.search.length > 1 && window.location.search !== \'?webtask_no_cache=1\')) {\n    $(\'#tabs a[href="#request"]\').tab(\'show\');\n  }\n  if (window.location.hash && window.location.hash.length > 1) {\n    $(\'#hash_fragment\').load(window.location.origin + window.location.pathname + \'/hash?\' + window.location.hash.replace(/^#/,""));\n  }\n  $(\'#client\').change(function(e) {\n    setSelectedClientSecrets();\n  });\n  $(\'#saml\').click(function(e) {\n    e.preventDefault();\n    save();\n    var url = \'https://\' + $(\'#domain\').val() + \'/samlp/\' + $(\'#client_id\').val() + \'?RelayState=\' + encodeURIComponent($(\'#state\').val());\n    url = url + \'&redirect_uri=\' + encodeURIComponent(callbackUrl);\n    if ($(\'#connection\').val() && $(\'#connection\').val().length) {\n      url = url + \'&connection=\' + encodeURIComponent($(\'#connection\').val());\n    }\n    window.location.href = url;\n  });\n  $(\'#wsfed\').click(function(e) {\n    e.preventDefault();\n    save();\n    var url = \'https://\' + $(\'#domain\').val() + \'/wsfed/\' + $(\'#client_id\').val() + \'?wctx=\' + encodeURIComponent($(\'#state\').val());\n    url = url + \'&wreply=\' + encodeURIComponent(callbackUrl);\n    if ($(\'#connection\').val() && $(\'#connection\').val().length) {\n      url = url + \'&wtrealm=\' + encodeURIComponent($(\'#connection\').val());\n    }\n    window.location.href = url;\n  });\n  $(\'#logout\').click(function(e) {\n    e.preventDefault();\n    save();\n    window.location.href = \'https://\' + $(\'#domain\').val() + \'/v2/logout?client_id=\' + $(\'#client_id\').val() + \'&returnTo=\' + encodeURIComponent(callbackUrl);\n  });\n  $(\'#logout-federated\').click(function(e) {\n    e.preventDefault();\n    save();\n    window.location.href = \'https://\' + $(\'#domain\').val() + \'/v2/logout?federated&client_id=\' + $(\'#client_id\').val() + \'&returnTo=\' + encodeURIComponent(callbackUrl);\n  });\n  $(\'#reset_settings\').click(function(e) {\n    e.preventDefault();\n    for (key in localStorage) {\n      if (key.indexOf(\'auth_debugger_\') === 0) {\n        delete localStorage[key];\n      }\n    }\n    read();\n  });\n  $(\'#oauth2_client_credentials\').click(function(e) {\n    e.preventDefault();\n    var opt = {\n      audience: $(\'#audience\').val(),\n      client_id: $(\'#client_id\').val(),\n      client_secret: $(\'#client_secret\').val(),\n      grant_type: \'client_credentials\'\n    };\n    executeRequest(\'OAuth2 - Client Credentials\', \'https://\' + $(\'#domain\').val() + \'/oauth/token\', opt);\n  });\n  $(\'#oauth2_code_exchange\').click(function(e) {\n    e.preventDefault();\n    var opt = {\n      client_id: $(\'#client_id\').val(),\n      redirect_uri: callbackUrl,\n      code: $(\'#authorization_code\').val(),\n      grant_type: \'authorization_code\'\n    };\n    if ($(\'#use_audience\').is(\':checked\') && $(\'#audience\').val() && $(\'#audience\').val().length) {\n      opt.audience = $(\'#audience\').val();\n    }\n    if ($(\'#use_pkce\').is(\':checked\')) {\n      opt.code_verifier = $(\'#code_verifier\').val();\n    } else {\n      opt.client_secret = $(\'#client_secret\').val();\n    }\n    executeRequest(\'OAuth2 - Authorization Code Exchange\', \'https://\' + $(\'#domain\').val() + \'/oauth/token\', opt);\n  });\n  $(\'#oauth2_refresh_token_exchange\').click(function(e) {\n    e.preventDefault();\n    var opt = {\n      client_id: $(\'#client_id\').val(),\n      refresh_token: $(\'#refresh_token\').val(),\n      grant_type: \'refresh_token\'\n    };\n    if ($(\'#use_audience\').is(\':checked\') && $(\'#audience\').val() && $(\'#audience\').val().length) {\n      opt.audience = $(\'#audience\').val();\n    }\n    if ($(\'#use_pkce\').is(\':checked\')) {\n      opt.code_verifier = $(\'#code_verifier\').val();\n    } else {\n      opt.client_secret = $(\'#client_secret\').val();\n    }\n    executeRequest(\'OAuth2 - Refresh Token Exchange\', \'https://\' + $(\'#domain\').val() + \'/oauth/token\', opt);\n  });\n  $(\'#oauth2_password_grant\').click(function(e) {\n    e.preventDefault();\n    var opt = {\n      client_id: $(\'#client_id\').val(),\n      client_secret: $(\'#client_secret\').val(),\n      username: $(\'#username\').val(),\n      password: $(\'#password\').val(),\n      grant_type: \'password\',\n      scope: $(\'#scope\').val()\n    };\n    if ($(\'#use_audience\').is(\':checked\') && $(\'#audience\').val() && $(\'#audience\').val().length) {\n      opt.audience = $(\'#audience\').val();\n    }\n    if ($(\'#connection\').val() && $(\'#connection\').val().length) {\n      opt.connection = $(\'#connection\').val();\n    }\n    executeRequest(\'OAuth2 - Password Grant\', \'https://\' + $(\'#domain\').val() + \'/oauth/token\', opt);\n  });\n  $(\'#oauth2_ro\').click(function(e) {\n    e.preventDefault();\n    if ($(\'#use_sso\').is(\':checked\')) {\n      save();\n      var auth0 = new Auth0({\n        domain: $(\'#domain\').val(),\n        clientID: $(\'#client_id\').val(),\n        callbackURL: callbackUrl\n      });\n      var options = {\n        state: $(\'#state\').val(),\n        sso: $(\'#use_sso\').is(\':checked\'),\n        username: $(\'#username\').val(),\n        password: $(\'#password\').val(),\n        connection: $(\'#connection\').val(),\n        scope: $(\'#scope\').val()\n      };\n      if ($(\'#device\').val() && $(\'#device\').val().length) {\n        options.device = $(\'#device\').val();\n      }\n      return auth0.login(options);\n    }\n    var opt = {\n      client_id: $(\'#client_id\').val(),\n      username: $(\'#username\').val(),\n      password: $(\'#password\').val(),\n      grant_type: \'password\',\n      scope: $(\'#scope\').val()\n    };\n    if ($(\'#connection\').val() && $(\'#connection\').val().length) {\n      opt.connection = $(\'#connection\').val();\n    }\n    if ($(\'#device\').val() && $(\'#device\').val().length) {\n      opt.device = $(\'#device\').val();\n    }\n    executeRequest(\'OAuth2 - Resource Owner\', \'https://\' + $(\'#domain\').val() + \'/oauth/ro\', opt);\n  });\n  $(\'#oauth2_delegation\').click(function(e) {\n    e.preventDefault();\n    var opt = {\n      client_id: $(\'#client_id\').val(),\n      grant_type: \'urn:ietf:params:oauth:grant-type:jwt-bearer\',\n      scope: $(\'#scope\').val()\n    };\n    if ($(\'#delegation_target\').val() && $(\'#delegation_target\').val().length) {\n      opt.target = $(\'#delegation_target\').val();\n    }\n    if ($(\'#delegation_id_token\').val() && $(\'#delegation_id_token\').val().length) {\n      opt.id_token = $(\'#delegation_id_token\').val();\n    }\n    if ($(\'#delegation_refresh_token\').val() && $(\'#delegation_refresh_token\').val().length) {\n      opt.refresh_token = $(\'#delegation_refresh_token\').val();\n    }\n    executeRequest(\'OAuth2 - Delegation\', \'https://\' + $(\'#domain\').val() + \'/delegation\', opt);\n  });\n  $(\'#oidc_oauth2\').click(function(e) {\n    e.preventDefault();\n    save();\n    // Don\'t do this in production. The client should always generate the verifier, and not rely on a remote server to do this.\n    $.get(\'{{baseUrl}}/pkce\')\n      .done(function(data) {\n        var auth0 = new Auth0({\n          domain: $(\'#domain\').val(),\n          clientID: $(\'#client_id\').val(),\n          callbackURL: callbackUrl\n        });\n        var options = {\n          state: $(\'#state\').val(),\n          sso: $(\'#use_sso\').is(\':checked\'),\n        };\n        if ($(\'#use_pkce\').is(\':checked\')) {\n          options.code_challenge = data.verifier_challenge;\n          options.code_challenge_method = \'S256\';\n          localStorage.setItem(\'auth_debugger_code_verifier\', data.verifier);\n        }\n        if ($(\'#scope\').val() && $(\'#scope\').val().length) {\n          options.scope = $(\'#scope\').val();\n        }\n        if ($(\'#connection\').val() && $(\'#connection\').val().length) {\n          options.connection = $(\'#connection\').val();\n        }\n        if ($(\'#use_audience\').is(\':checked\') && $(\'#audience\').val() && $(\'#audience\').val().length) {\n          options.audience = $(\'#audience\').val();\n        }\n        if ($(\'#response_type\').val() && $(\'#response_type\').val().length) {\n          options.response_type = $(\'#response_type\').val();\n        }\n        if ($(\'#response_mode\').val() && $(\'#response_mode\').val().length) {\n          options.response_mode = $(\'#response_mode\').val();\n        }\n        if ($(\'#prompt\').val() && $(\'#prompt\').val().length) {\n          options.prompt = $(\'#prompt\').val();\n        }\n        if ($(\'#nonce\').val() && $(\'#nonce\').val().length) {\n          options.nonce = $(\'#nonce\').val();\n        }\n        auth0.login(options);\n      });\n  });\n  $(\'#sso-data\').click(function(e) {\n    e.preventDefault();\n    save();\n    var auth0 = new Auth0({\n      domain: $(\'#domain\').val(),\n      clientID: $(\'#client_id\').val(),\n      callbackURL: callbackUrl\n    });\n    $(\'#sso-data-output\').html(\'Loading...\');\n    auth0.getSSOData(function(err, res) {\n      $.ajax({ type: "POST", url: \'{{baseUrl}}/request\', data: JSON.stringify({ error: err, response: res }), contentType: \'application/json\' })\n        .done(function(data) {\n          $(\'#sso-data-output\').html(data);\n        })\n        .fail(function(err) {\n          $(\'#sso-data-output\').html(\'\');\n          $(\'<pre/>\', { \'class\':\'json-object\', \'html\': err.responseText || err.name || err.text || err.body || err.status }).appendTo(\'#sso-data-output\');\n        });\n    });\n  });\n});\n</script>\n</body>\n</html>\n';
},function(e,n){"use strict";e.exports='\n{{#if request}}\n<div class="row">\n  <div class="col-xs-12">\n    <div>\n      <h5>Request</h5>\n    </div>\n  </div>\n  <div class="col-lg-12">\n    <pre class="json-object">{{{request}}}</pre>\n  </div>\n</div>\n{{/if}}\n{{#if response}}\n<div class="row">\n  <div class="col-xs-12">\n    <div>\n      <h5>Response</h5>\n    </div>\n  </div>\n  <div class="col-lg-12">\n    <pre class="json-object">{{{response}}}</pre>\n  </div>\n</div>\n{{/if}}\n{{#if hash}}\n<div class="row">\n  <div class="col-xs-12">\n    <div>\n      <h5>Hash Fragment</h5>\n    </div>\n  </div>\n  <div class="col-lg-12">\n    <pre class="json-object">{{{hash}}}</pre>\n  </div>\n</div>\n{{/if}}\n{{#if id_token}}\n<div class="row">\n  <div class="col-xs-12">\n    <div>\n      <h5>ID Token</h5>\n    </div>\n  </div>\n  <div class="col-lg-12">\n    <pre class="json-object">{{{id_token}}}</pre>\n  </div>\n</div>\n{{/if}}\n{{#if access_token}}\n<div class="row">\n  <div class="col-xs-12">\n    <div>\n      <h5>Access Token</h5>\n    </div>\n  </div>\n  <div class="col-lg-12">\n    <pre class="json-object">{{{access_token}}}</pre>\n  </div>\n</div>\n{{/if}}\n'},function(e,n,t){"use strict";var o=t(3),a=t(6),s=a.Router(),l=t(22);if("development"===(process.env.NODE_ENV||"development")){l.argv().env().file(o.join(__dirname,"./../config.json"));var i=t(5).randomBytes(32).toString("hex");s.use(function(e,n,t){e.webtaskContext={data:{EXTENSION_SECRET:i,AUTH0_DOMAIN:l.get("AUTH0_DOMAIN"),AUTH0_CLIENT_ID:l.get("AUTH0_CLIENT_ID"),AUTH0_CLIENT_SECRET:l.get("AUTH0_CLIENT_SECRET")}},t()})}e.exports=s},function(e,n){e.exports=require("nconf")}]);